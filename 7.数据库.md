### 数据库简介

####分类

+ 文件型：简单——access,sqlite（APP内置数据库，对系统资源占用极少）;
  + 优点：本身就是一个文件，例如一个APP往用户处存一个数据可以使用这种方法；手机上短信等
  + 缺点：不适合存储数据量较大的数据，数据存多了容易损坏
+ 关系型：数据之间有关系——MySQL ，Oracle ， 适用性较强
  + 可以接受复杂的逻辑查询
+ 分布式：可以将数据库安装在很多机器上——MongoDB
  + 可以将各种请求查询分散开来，充分调动各个机器的资源；
  + 数据安全性较高，一般自己会做备份（一般3份），数据丢失自己会恢复
  + 单机性能不高，但通过分布式
+ NoSQL:无法支持复杂的查询，但性能高——memcache, redis
  + 支持巨大的并发，性能高，自带分布
  + 保障数据的安全性

#### 安全性

最大的安全隐患——注入

#### 操作

+ 管理性
+ 增删改查

### MySQL

####管理工具

navicat

phpmyadmin

#### 库

类似于平常的目录，自身不存储数据，是一个管理性的东西，可以保存表

新建数据库：

字符集，一般选择`utf8_general_ci`

`big5_chinese_ci`:国内的支持按照偏旁部首排序的字符集

#### 表

真正存储数据的地方

新建表：
字段数，存的数据的列数（有几个数据），后期可以添加

#### 数据库中的类型

数字：INT（tinyint1,smallint2,mediuint3,INT4,BIGINT8）

文本:  

+ varchar—短，几百个字(长度可变)  
+ text——2G，比较长，可以用来保存文章等

####索引 

性能与限制

#####  主键—PRIMARY

+ 唯一+索引UNIQE+INDEX

+ 不重复

+ 性能最高

#####  唯一—UNIQE

#####   索引—INDEX

+ 优：提高查询性能
+ 缺：降低插入以及删除操作的性能，
+ 缺：会占用更多的空间不论是磁盘空间还是内存空间

#####  全文索引

+ 适合文本搜索，做搜索引擎，
+ 与索引类似，降低其他操作性能

#### SQL—四大语句

##### 增-INSERT

+ INSERT INTO <表>(字段，...)  VALUES(值，...)
+ INSERT INTO user_table(username,password) VALUES('lisi','111111')

##### 删-DELETE

+ DELETE FROM <表> WHERE 条件；
+ BELETE FROM user_table WHERE ID=2;
+ BELETE FROM user_table WHERE ID<500;批量取决于给的条件
+ 工作中操作较少，因为数据之间的关联性比较强，一般会给标记删除状态，在索引的时候规避这些数据即可

##### 改-UPDATE

+ UPDATE <表> SET 字段=新值，字段=新值, . . .WHERE 条件
+ UPDATE  user_table SET  username='blue', password='654321'  WHERE ID=1;
+ 遇到问题，需要按照字段顺序来进行更新的设置

##### 查-SELECT

+ SELECT  字段列表 FROM <表>  WHERE  条件 ORDER BY 字段 LIMIT 30,30；排序,限制
+ SELECT username FROM user_table WHERE ID<5 LIMIT 1,1;
+ 需要考虑到查询的性能； *  指的是全部，查询的时候性能损耗比较大，
+ 最常用的语句，变数比较大

### node操作数据库

node如何操作数据库？

​		在node里面充满了很多的异步操作，服务器要同时处理很多用户的请求，数据库一般情况下，与web前端机（不是浏览器，指的是对用户提供直接访问的服务器），一定不在一台机器上，因为

+ 1.运行web的服务器风险更高，要接受用户直接访问，将数据库放在上面容易将用户数据暴露出去，
+ 2.前端机总是特别多，如果数据库部署到上面涉及分布式等一些问题；
+ 3.往往前端主机的问题资源消耗比较大，要做缓存等内存与磁盘比较忙，如果数据库部署到上面，数据库性能一般情况下也会比较低； 
+ 一般情况下，node服务器与数据库通过网络交换数据，因为他们没在一台主机上，nodejs操作数据库也是异步的，要将数据转变成promise能够认识的一种状态，同步化。

基本操作

同步化



